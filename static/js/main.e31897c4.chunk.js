(this.webpackJsonpcorona_project=this.webpackJsonpcorona_project||[]).push([[0],{25:function(e,t,a){e.exports=a(40)},31:function(e,t,a){},32:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(19),l=a.n(r),o=(a(30),a(31),a(9)),s=a(6),i=(a(32),a(4)),m=a(8),d={global:{},countries:[],highlyAffectedCountries:[],showSidebar:!1,textInput:""},u=function(e,t){var a=t.type,n=t.payload;switch(a){case"ALL_COUNTRIES":return Object(m.a)({},e,{countries:n});case"WROST_COUNTRIES":return Object(m.a)({},e,{highlyAffectedCountries:n});case"GLOBALLY_AFFECTED":return Object(m.a)({},e,{global:n});case"SIDEBAR":return Object(m.a)({},e,{showSidebar:n});case"TEXT_CHANGE":return Object(m.a)({},e,{inputTextData:n});default:return e}},f=c.a.createContext(null),h=c.a.createContext(null);function E(){var e=c.a.useContext(f);if(void 0===e)throw new Error("Redux State Context is not availabel");return e}function v(){var e=c.a.useContext(h);if(void 0===e)throw new Error("Redux Dispatch Context is not availabel");return e}function p(e){var t=e.children,a=Object(n.useReducer)(u,d),r=Object(i.a)(a,2),l=r[0],o=r[1];return c.a.createElement(f.Provider,{value:l},c.a.createElement(h.Provider,{value:o},t))}var b=function(){var e=E(),t=e.countries,a=e.showSidebar,r=e.inputTextData,l=v(),s=Object(n.useState)([]),m=Object(i.a)(s,2),d=m[0],u=m[1],f=Object(n.useState)(!0),h=Object(i.a)(f,2),p=h[0],b=h[1],y=Object(n.useRef)(null);Object(n.useEffect)((function(){u(t)}),[t]),Object(n.useEffect)((function(){y.current.value=r}),[r]);var N=function(){var e=y.current.value;e&&(b(!1),u(t.filter((function(t){return t.Country.toLowerCase()===e.toLowerCase()}))),l({type:"TEXT_CHANGE",payload:e}))},g=function(){u(t),b(!0),l({type:"TEXT_CHANGE",payload:""})},x=function(){return c.a.createElement("nav",{className:"bg-light sidebar ".concat(window.screen.width>768?"col-md-3":"full-width-sidebar")},c.a.createElement("div",{className:"input-group input-search-box"},c.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search By Country Name",ref:y,"aria-label":"Username","aria-describedby":"basic-addon1"}),c.a.createElement("div",{className:"input-group-prepend"},p?c.a.createElement("span",{className:"input-group-text cp",onClick:N,id:"basic-addon1"},"Search"):c.a.createElement("span",{className:"input-group-text cp",id:"basic-addon1",onClick:g},"Clear"))),c.a.createElement("div",{className:"sidebar-sticky"},d.map((function(e,t){return c.a.createElement(o.b,{to:"graph/".concat(e.Slug),className:"link"},c.a.createElement("div",{className:"country",key:t},c.a.createElement("div",{className:"country-name"},e.Country),c.a.createElement("div",{className:"total-confirmed"},"Confirmed Case - ",e.TotalConfirmed)))}))))};return c.a.createElement(c.a.Fragment,null,a||window.screen.width>768?c.a.createElement(x,null):null)},y=a(13),N=a.n(y),g=a(11),x=a.n(g),C=function(){var e=E().global,t=[];Object.keys(e).map((function(a){return t.push([a,e[a]])}));var a={title:{text:"Globally Affected"},series:[{type:"pie",name:"Number of People",innerSize:"50%",data:t}]};return c.a.createElement("div",null,c.a.createElement(x.a,{highcharts:N.a,options:a}))},w=function(){var e=E().highlyAffectedCountries;return c.a.createElement("main",{role:"main",className:"ml-sm-auto ".concat(window.screen.width<=768?"col-md-12":"col-md-9")},c.a.createElement(C,null),c.a.createElement("h5",{className:"top-country-list"},"Highly Affected Countries"),c.a.createElement("div",{className:"row highly-affected"},e.map((function(e,t){return c.a.createElement("div",{className:"col-sm-4",key:t},c.a.createElement("div",{className:"card card-data mb-2"},c.a.createElement("div",null,c.a.createElement("h5",{className:"card-title text-center m-2 country-title"},e.Country),c.a.createElement("div",{className:"card-text text-center confirmed"},c.a.createElement("h5",{className:"cases"},"Confirmed - ",e.TotalConfirmed)),c.a.createElement("div",{className:"card-text text-center recover"},c.a.createElement("h5",{className:"cases"},"Recovered - ",e.TotalRecovered)),c.a.createElement("div",{className:"card-text text-center death"},c.a.createElement("h5",{className:"cases"},"Death - ",e.TotalDeaths)))))}))))},O=a(16),j=a.n(O),S=a(22),k=function(){var e=Object(S.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.covid19api.com/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=v(),t=E().showSidebar;Object(n.useEffect)((function(){k("summary").then((function(t){console.log(t);var a=t.Global,n=void 0===a?{}:a,c=t.Countries,r=void 0===c?[]:c,l=(t.Date,r.sort((function(e,t){return t.TotalConfirmed-e.TotalConfirmed}))),o=n;e({type:"ALL_COUNTRIES",payload:l}),e({type:"GLOBALLY_AFFECTED",payload:o}),e({type:"WROST_COUNTRIES",payload:l.slice(0,20)})})).catch((function(){return console.log("Something is not working, Please retry after some time")}))}),[e]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("nav",{className:"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow"},c.a.createElement("button",{className:"navbar-toggler",type:"button",onClick:function(){console.log("Main",t),e({type:"SIDEBAR",payload:!t})}},c.a.createElement("span",{className:"navbar-toggler-icon"})),c.a.createElement("h6",{className:"navbar-header-text col-sm-12 col-md-12 mr-0"},"Covid-19 Tracker")),c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement(b,null),c.a.createElement(w,null))))},T=function(e){var t=e.totalData,a=t.Country,n=t.Confirmed,r=void 0===n?0:n,l=t.Deaths,o=void 0===l?0:l,s=t.Recovered,i=void 0===s?0:s;return c.a.createElement("div",null,c.a.createElement("h6",{className:"single-country-name"},a),c.a.createElement("div",{className:"d-flex justify-content-center row highly-affected"},0!==r&&c.a.createElement("div",{className:"col-sm-2 highly-affected-data cp"},c.a.createElement("div",{className:"card mb-2 single-country-confirmed"},c.a.createElement("div",null,c.a.createElement("h5",{className:"card-title text-center m-2 country-info"},"Confirmed"),c.a.createElement("div",{className:"card-text text-center "},c.a.createElement("h5",{className:"cases"},r))))),0!==i&&c.a.createElement("div",{className:"col-sm-2 highly-affected-data cp"},c.a.createElement("div",{className:"card  mb-2 single-country-recovered"},c.a.createElement("div",null,c.a.createElement("h5",{className:"card-title text-center m-2 country-info"},"Recovered"),c.a.createElement("div",{className:"card-text text-center "},c.a.createElement("h5",{className:"cases"},i))))),0!==o&&c.a.createElement("div",{className:"col-sm-2 highly-affected-data cp"},c.a.createElement("div",{className:"card single-country-death mb-2"},c.a.createElement("div",null,c.a.createElement("h5",{className:"card-title text-center m-2 country-info"},"Deaths"),c.a.createElement("div",{className:"card-text text-center "},c.a.createElement("h5",{className:"cases"},o))))),0!==i&&c.a.createElement("div",{className:"col-sm-2 highly-affected-data cp"},c.a.createElement("div",{className:"card  mb-2 single-country-recovered"},c.a.createElement("div",null,c.a.createElement("h5",{className:"card-title text-center m-2 country-info"},"Recovered Ratio"),c.a.createElement("div",{className:"card-text text-center "},c.a.createElement("h5",{className:"cases"},(100*i/r).toFixed(2)))))),0!==o&&c.a.createElement("div",{className:"col-sm-2 highly-affected-data cp"},c.a.createElement("div",{className:"card  mb-2 single-country-death"},c.a.createElement("div",null,c.a.createElement("h5",{className:"card-title text-center m-2 country-info"},"Death Ratio"),c.a.createElement("div",{className:"card-text text-center "},c.a.createElement("h5",{className:"cases"},(100*o/r).toFixed(2))))))))},D=a(23),A=a(24),B=a.n(A),L=function(){var e=Object(s.f)().country,t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)([]),m=Object(i.a)(o,2),d=m[0],u=m[1],f=Object(n.useState)([]),h=Object(i.a)(f,2),E=h[0],v=h[1],p=Object(n.useState)([]),b=Object(i.a)(p,2),y=b[0],N=b[1],g=Object(n.useState)([]),C=Object(i.a)(g,2),w=C[0],O=C[1];Object(n.useEffect)((function(){k("total/dayone/country/".concat(e)).then((function(e){var t=[],a=[],n=[],c=[];e.map((function(e){t.push(D(e.Date).format("ll")),a.push(e.Confirmed),n.push(e.Recovered),c.push(e.Deaths)})),l(a),u(n),v(c),N(t),O(e[e.length-1])})).catch((function(){return console.log("Something is not working,Graph Data")}))}),[e]);var j={title:{text:"Affected Data"},xAxis:{categories:y,min:0,max:50,scrollbar:{enabled:!0,barBackgroundColor:"gray",barBorderRadius:7,barBorderWidth:0,buttonBackgroundColor:"gray",buttonBorderWidth:0,buttonBorderRadius:7,trackBackgroundColor:"none",trackBorderWidth:1,trackBorderRadius:8,trackBorderColor:"#CCC"},tickLength:0},yAxis:{title:{text:"Number of People"},type:"logarithmic",max:1e6,lineColor:"#F33"},plotOptions:{series:{showInNavigator:!0}},rangeSelector:{selected:4},series:[{name:"Confirmed",data:r,color:"#ffc107"},{name:"Recovered",data:d,color:"#28a745"},{name:"Deaths",data:E,color:"#F33"}]};return console.log(y),c.a.createElement("div",null,c.a.createElement(T,{totalData:w}),c.a.createElement(x.a,{highcharts:B.a,options:j}))};var _=function(){return c.a.createElement(p,null,c.a.createElement(o.a,null,c.a.createElement(s.c,null,c.a.createElement(s.a,{exact:!0,path:"/"},c.a.createElement(R,null)),c.a.createElement(s.a,{path:"/graph/:country"},c.a.createElement(L,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.e31897c4.chunk.js.map